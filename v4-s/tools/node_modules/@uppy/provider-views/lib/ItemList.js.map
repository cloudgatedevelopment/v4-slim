{"version":3,"sources":["ItemList.js"],"names":["require","h","remoteFileObjToLocal","Item","getSharedProps","fileOrFolder","props","id","title","name","getItemIcon","icon","isChecked","toggleCheckbox","e","columns","showTitles","viewType","i18n","module","exports","folders","length","files","handleScroll","map","folder","type","isDisabled","loading","handleFolderClick","file","validateRestrictions","uppyFiles","currentSelection","sharedProps","restrictionReason","reason","result"],"mappings":";;eAAcA,OAAO,CAAC,QAAD,C;IAAbC,C,YAAAA,C;;AACR,IAAMC,oBAAoB,GAAGF,OAAO,CAAC,sCAAD,CAApC;;AACA,IAAMG,IAAI,GAAGH,OAAO,CAAC,cAAD,CAApB;;AAEA,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,YAAD,EAAeC,KAAf;AAAA,SAA0B;AAC/CC,IAAAA,EAAE,EAAEF,YAAY,CAACE,EAD8B;AAE/CC,IAAAA,KAAK,EAAEH,YAAY,CAACI,IAF2B;AAG/CC,IAAAA,WAAW,EAAE;AAAA,aAAML,YAAY,CAACM,IAAnB;AAAA,KAHkC;AAI/CC,IAAAA,SAAS,EAAEN,KAAK,CAACM,SAAN,CAAgBP,YAAhB,CAJoC;AAK/CQ,IAAAA,cAAc,EAAE,wBAACC,CAAD;AAAA,aAAOR,KAAK,CAACO,cAAN,CAAqBC,CAArB,EAAwBT,YAAxB,CAAP;AAAA,KAL+B;AAM/CU,IAAAA,OAAO,EAAET,KAAK,CAACS,OANgC;AAO/CC,IAAAA,UAAU,EAAEV,KAAK,CAACU,UAP6B;AAQ/CC,IAAAA,QAAQ,EAAEX,KAAK,CAACW,QAR+B;AAS/CC,IAAAA,IAAI,EAAEZ,KAAK,CAACY;AATmC,GAA1B;AAAA,CAAvB;;AAYAC,MAAM,CAACC,OAAP,GAAiB,UAACd,KAAD,EAAW;AAC1B,MAAI,CAACA,KAAK,CAACe,OAAN,CAAcC,MAAf,IAAyB,CAAChB,KAAK,CAACiB,KAAN,CAAYD,MAA1C,EAAkD;AAChD,WAAO;AAAK,MAAA,KAAK,EAAC;AAAX,OAAkChB,KAAK,CAACY,IAAN,CAAW,cAAX,CAAlC,CAAP;AACD;;AAED,SACE;AAAK,IAAA,KAAK,EAAC;AAAX,KACE;AACE,IAAA,KAAK,EAAC,2BADR;AAEE,IAAA,QAAQ,EAAEZ,KAAK,CAACkB,YAFlB;AAGE,IAAA,IAAI,EAAC,SAHP,CAIE;AAJF;AAKE,IAAA,QAAQ,EAAC;AALX,KAOGlB,KAAK,CAACe,OAAN,CAAcI,GAAd,CAAkB,UAAAC,MAAM,EAAI;AAC3B,WAAOvB,IAAI,cACNC,cAAc,CAACsB,MAAD,EAASpB,KAAT,CADR;AAETqB,MAAAA,IAAI,EAAE,QAFG;AAGTC,MAAAA,UAAU,EAAEtB,KAAK,CAACM,SAAN,CAAgBc,MAAhB,IAA0BpB,KAAK,CAACM,SAAN,CAAgBc,MAAhB,EAAwBG,OAAlD,GAA4D,KAH/D;AAITC,MAAAA,iBAAiB,EAAE;AAAA,eAAMxB,KAAK,CAACwB,iBAAN,CAAwBJ,MAAxB,CAAN;AAAA;AAJV,OAAX;AAMD,GAPA,CAPH,EAeGpB,KAAK,CAACiB,KAAN,CAAYE,GAAZ,CAAgB,UAAAM,IAAI,EAAI;AACvB,QAAMC,oBAAoB,GAAG1B,KAAK,CAAC0B,oBAAN,CAC3B9B,oBAAoB,CAAC6B,IAAD,CADO,YAEvBzB,KAAK,CAAC2B,SAFiB,EAEH3B,KAAK,CAAC4B,gBAFH,EAA7B;AAIA,QAAMC,WAAW,GAAG/B,cAAc,CAAC2B,IAAD,EAAOzB,KAAP,CAAlC;AACA,QAAM8B,iBAAiB,GAAGJ,oBAAoB,CAACK,MAA/C;AAEA,WAAOlC,IAAI,cACNgC,WADM;AAETR,MAAAA,IAAI,EAAE,MAFG;AAGTC,MAAAA,UAAU,EAAE,CAACI,oBAAoB,CAACM,MAAtB,IAAgC,CAACH,WAAW,CAACvB,SAHhD;AAITwB,MAAAA,iBAAiB,EAAEA;AAJV,OAAX;AAMD,GAdA,CAfH,CADF,CADF;AAmCD,CAxCD","sourcesContent":["const { h } = require('preact')\nconst remoteFileObjToLocal = require('@uppy/utils/lib/remoteFileObjToLocal')\nconst Item = require('./Item/index')\n\nconst getSharedProps = (fileOrFolder, props) => ({\n  id: fileOrFolder.id,\n  title: fileOrFolder.name,\n  getItemIcon: () => fileOrFolder.icon,\n  isChecked: props.isChecked(fileOrFolder),\n  toggleCheckbox: (e) => props.toggleCheckbox(e, fileOrFolder),\n  columns: props.columns,\n  showTitles: props.showTitles,\n  viewType: props.viewType,\n  i18n: props.i18n\n})\n\nmodule.exports = (props) => {\n  if (!props.folders.length && !props.files.length) {\n    return <div class=\"uppy-Provider-empty\">{props.i18n('noFilesFound')}</div>\n  }\n\n  return (\n    <div class=\"uppy-ProviderBrowser-body\">\n      <ul\n        class=\"uppy-ProviderBrowser-list\"\n        onscroll={props.handleScroll}\n        role=\"listbox\"\n        // making <ul> not focusable for firefox\n        tabindex=\"-1\"\n      >\n        {props.folders.map(folder => {\n          return Item({\n            ...getSharedProps(folder, props),\n            type: 'folder',\n            isDisabled: props.isChecked(folder) ? props.isChecked(folder).loading : false,\n            handleFolderClick: () => props.handleFolderClick(folder)\n          })\n        })}\n        {props.files.map(file => {\n          const validateRestrictions = props.validateRestrictions(\n            remoteFileObjToLocal(file),\n            [...props.uppyFiles, ...props.currentSelection]\n          )\n          const sharedProps = getSharedProps(file, props)\n          const restrictionReason = validateRestrictions.reason\n\n          return Item({\n            ...sharedProps,\n            type: 'file',\n            isDisabled: !validateRestrictions.result && !sharedProps.isChecked,\n            restrictionReason: restrictionReason\n          })\n        })}\n      </ul>\n    </div>\n  )\n}\n"]}