{"version":3,"sources":["Dashboard.js"],"names":["FileList","require","AddFiles","AddFilesPanel","PickerPanelContent","EditorPanel","PanelTopBar","FileCard","Slide","classNames","isDragDropSupported","h","WIDTH_XL","WIDTH_LG","WIDTH_MD","HEIGHT_MD","module","exports","Dashboard","props","noFiles","totalFileCount","isSizeMD","containerWidth","wrapperClassName","isTargetDOMEl","dashboardClassName","animateOpenClose","isClosing","isDraggingOver","inline","containerHeight","showAddFilesPanel","areInsidesReadyToBeVisible","itemsPerRow","showFileList","showSelectedFiles","dashboard","theme","acquirers","length","isHidden","i18n","handlePaste","handleDragOver","handleDragLeave","handleDrop","handleClickOutside","width","height","closeModal","fileCardFor","activePickerPanel","showFileEditor","progressindicators","map","target","getPlugin","id","render","state","direction"],"mappings":"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","sourcesContent":["const FileList = require('./FileList')\nconst AddFiles = require('./AddFiles')\nconst AddFilesPanel = require('./AddFilesPanel')\nconst PickerPanelContent = require('./PickerPanelContent')\nconst EditorPanel = require('./EditorPanel')\nconst PanelTopBar = require('./PickerPanelTopBar')\nconst FileCard = require('./FileCard')\nconst Slide = require('./Slide')\nconst classNames = require('classnames')\nconst isDragDropSupported = require('@uppy/utils/lib/isDragDropSupported')\nconst { h } = require('preact')\n\n// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nconst WIDTH_XL = 900\nconst WIDTH_LG = 700\nconst WIDTH_MD = 576\nconst HEIGHT_MD = 400\n\nmodule.exports = function Dashboard (props) {\n  const noFiles = props.totalFileCount === 0\n  const isSizeMD = props.containerWidth > WIDTH_MD\n\n  const wrapperClassName = classNames({\n    'uppy-Root': props.isTargetDOMEl\n  })\n\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible\n  })\n\n  // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n  let itemsPerRow = 1 // mobile\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3\n  }\n\n  const showFileList = props.showSelectedFiles && !noFiles\n\n  const dashboard = (\n    <div\n      class={dashboardClassName}\n      data-uppy-theme={props.theme}\n      data-uppy-num-acquirers={props.acquirers.length}\n      data-uppy-drag-drop-supported={isDragDropSupported()}\n      aria-hidden={props.inline ? 'false' : props.isHidden}\n      aria-label={!props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle')}\n      onpaste={props.handlePaste}\n      onDragOver={props.handleDragOver}\n      onDragLeave={props.handleDragLeave}\n      onDrop={props.handleDrop}\n    >\n      <div\n        class=\"uppy-Dashboard-overlay\"\n        tabindex={-1}\n        onclick={props.handleClickOutside}\n      />\n\n      <div\n        class=\"uppy-Dashboard-inner\"\n        aria-modal={!props.inline && 'true'}\n        role={!props.inline && 'dialog'}\n        style={{\n          width: props.inline && props.width ? props.width : '',\n          height: props.inline && props.height ? props.height : ''\n        }}\n      >\n\n        {!props.inline ? (\n          <button\n            class=\"uppy-u-reset uppy-Dashboard-close\"\n            type=\"button\"\n            aria-label={props.i18n('closeModal')}\n            title={props.i18n('closeModal')}\n            onclick={props.closeModal}\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        ) : null}\n\n        <div class=\"uppy-Dashboard-innerWrap\">\n          <div class=\"uppy-Dashboard-dropFilesHereHint\">\n            {props.i18n('dropHint')}\n          </div>\n\n          {showFileList && <PanelTopBar {...props} />}\n\n          {showFileList ? (\n            <FileList\n              {...props}\n              itemsPerRow={itemsPerRow}\n            />\n          ) : (\n            <AddFiles {...props} isSizeMD={isSizeMD} />\n          )}\n\n          <Slide>\n            {props.showAddFilesPanel ? <AddFilesPanel key=\"AddFiles\" {...props} isSizeMD={isSizeMD} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.fileCardFor ? <FileCard key=\"FileCard\" {...props} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.activePickerPanel ? <PickerPanelContent key=\"Picker\" {...props} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.showFileEditor ? <EditorPanel key=\"Editor\" {...props} /> : null}\n          </Slide>\n\n          <div class=\"uppy-Dashboard-progressindicators\">\n            {props.progressindicators.map((target) => {\n              return props.getPlugin(target.id).render(props.state)\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  return (\n    // Wrap it for RTL language support\n    <div class={wrapperClassName} dir={props.direction}>\n      {dashboard}\n    </div>\n  )\n}\n"]}