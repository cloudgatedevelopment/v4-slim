{"version":3,"sources":["index.js"],"names":["require","h","onPauseResumeCancelRetry","props","isUploaded","error","hideRetryButton","retryUpload","file","id","resumableUploads","hidePauseResumeButton","pauseUpload","individualCancellation","hideCancelButton","cancelUpload","progressIndicatorTitle","i18n","isPaused","ProgressIndicatorButton","children","ProgressCircleContainer","ProgressCircle","progress","circleLength","Math","PI","module","exports","FileProgress","uploadStarted","percentage"],"mappings":"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","sourcesContent":["const { h } = require('preact')\n\nfunction onPauseResumeCancelRetry (props) {\n  if (props.isUploaded) return\n\n  if (props.error && !props.hideRetryButton) {\n    props.retryUpload(props.file.id)\n    return\n  }\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.pauseUpload(props.file.id)\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.cancelUpload(props.file.id)\n  }\n}\n\nfunction progressIndicatorTitle (props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete')\n  }\n\n  if (props.error) {\n    return props.i18n('retryUpload')\n  }\n\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload')\n    }\n    return props.i18n('pauseUpload')\n  } else if (props.individualCancellation) {\n    return props.i18n('cancelUpload')\n  }\n\n  return ''\n}\n\nfunction ProgressIndicatorButton (props) {\n  return (\n    <div class=\"uppy-Dashboard-Item-progress\">\n      <button\n        class=\"uppy-u-reset uppy-Dashboard-Item-progressIndicator\"\n        type=\"button\"\n        aria-label={progressIndicatorTitle(props)}\n        title={progressIndicatorTitle(props)}\n        onclick={() => onPauseResumeCancelRetry(props)}\n      >\n        {props.children}\n      </button>\n    </div>\n  )\n}\n\nfunction ProgressCircleContainer ({ children }) {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      width=\"70\"\n      height=\"70\"\n      viewBox=\"0 0 36 36\"\n      class=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n    >\n      {children}\n    </svg>\n  )\n}\n\nfunction ProgressCircle ({ progress }) {\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15\n\n  return (\n    <g>\n      <circle class=\"uppy-Dashboard-Item-progressIcon--bg\" r=\"15\" cx=\"18\" cy=\"18\" stroke-width=\"2\" fill=\"none\" />\n      <circle\n        class=\"uppy-Dashboard-Item-progressIcon--progress\" r=\"15\" cx=\"18\" cy=\"18\" transform=\"rotate(-90, 18, 18)\" stroke-width=\"2\" fill=\"none\"\n        stroke-dasharray={circleLength}\n        stroke-dashoffset={circleLength - (circleLength / 100 * progress)}\n      />\n    </g>\n  )\n}\n\nmodule.exports = function FileProgress (props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null\n  }\n\n  // Green checkmark when complete\n  if (props.isUploaded) {\n    return (\n      <div class=\"uppy-Dashboard-Item-progress\">\n        <div class=\"uppy-Dashboard-Item-progressIndicator\">\n          <ProgressCircleContainer>\n            <circle r=\"15\" cx=\"18\" cy=\"18\" fill=\"#1bb240\" />\n            <polygon class=\"uppy-Dashboard-Item-progressIcon--check\" transform=\"translate(2, 3)\" points=\"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\" />\n          </ProgressCircleContainer>\n        </div>\n      </div>\n    )\n  }\n\n  // Retry button for error\n  if (props.error && !props.hideRetryButton) {\n    return (\n      <ProgressIndicatorButton {...props}>\n        <svg aria-hidden=\"true\" focusable=\"false\" class=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\" width=\"28\" height=\"31\" viewBox=\"0 0 16 19\">\n          <path d=\"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\" />\n          <path d=\"M7.9 3H10v2H7.9z\" />\n          <path d=\"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\" />\n          <path d=\"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\" />\n        </svg>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Pause/resume button for resumable uploads\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          {\n            props.file.isPaused\n              ? <polygon class=\"uppy-Dashboard-Item-progressIcon--play\" transform=\"translate(3, 3)\" points=\"12 20 12 10 20 15\" />\n              : (\n                <g class=\"uppy-Dashboard-Item-progressIcon--pause\" transform=\"translate(14.5, 13)\">\n                  <rect x=\"0\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                  <rect x=\"5\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                </g>\n              )\n          }\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          <polygon class=\"cancel\" transform=\"translate(2, 2)\" points=\"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\" />\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Just progress when buttons are disabled\n  return (\n    <div class=\"uppy-Dashboard-Item-progress\">\n      <div class=\"uppy-Dashboard-Item-progressIndicator\">\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n        </ProgressCircleContainer>\n      </div>\n    </div>\n  )\n}\n"]}