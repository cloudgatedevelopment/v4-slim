{"version":3,"sources":["CameraScreen.js"],"names":["require","h","Component","SnapshotButton","RecordButton","RecordingLength","VideoSourceSelect","isModeAvailable","modes","mode","indexOf","CameraScreen","componentDidMount","props","onFocus","componentWillUnmount","onStop","render","shouldShowRecordButton","supportsRecording","shouldShowSnapshotButton","shouldShowRecordingLength","showRecordingLength","shouldShowVideoSourceDropdown","showVideoSourceDropdown","videoSources","length","mirror","src","module","exports"],"mappings":";;eAAyBA,OAAO,CAAC,QAAD,C;IAAxBC,C,YAAAA,C;IAAGC,S,YAAAA,S;;AACX,IAAMC,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAMI,YAAY,GAAGJ,OAAO,CAAC,gBAAD,CAA5B;;AACA,IAAMK,eAAe,GAAGL,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAMM,iBAAiB,GAAGN,OAAO,CAAC,qBAAD,CAAjC;;AAEA,SAASO,eAAT,CAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC;AACrC,SAAOD,KAAK,CAACE,OAAN,CAAcD,IAAd,MAAwB,CAAC,CAAhC;AACD;;IAEKE,Y;;;;;;;;;SACJC,iB,GAAA,6BAAqB;AACnB,SAAKC,KAAL,CAAWC,OAAX;AACD,G;;SAEDC,oB,GAAA,gCAAwB;AACtB,SAAKF,KAAL,CAAWG,MAAX;AACD,G;;SAEDC,M,GAAA,kBAAU;AACR,QAAMC,sBAAsB,GAAG,KAAKL,KAAL,CAAWM,iBAAX,KAC7BZ,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,YAAnB,CAAf,IACAD,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,YAAnB,CADf,IAEAD,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,aAAnB,CAHc,CAA/B;AAKA,QAAMY,wBAAwB,GAAGb,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,SAAnB,CAAhD;AACA,QAAMa,yBAAyB,GAAG,KAAKR,KAAL,CAAWM,iBAAX,IAAgC,KAAKN,KAAL,CAAWS,mBAA7E;AACA,QAAMC,6BAA6B,GAAG,KAAKV,KAAL,CAAWW,uBAAX,IAAsC,KAAKX,KAAL,CAAWY,YAAjD,IAAiE,KAAKZ,KAAL,CAAWY,YAAX,CAAwBC,MAAxB,GAAiC,CAAxI;AAEA,WACE;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAO,MAAA,KAAK,2BAAwB,KAAKb,KAAL,CAAWc,MAAX,GAAoB,6BAApB,GAAoD,EAA5E,CAAZ;AAA8F,MAAA,QAAQ,MAAtG;AAAuG,MAAA,KAAK,MAA5G;AAA6G,MAAA,WAAW,MAAxH;AAAyH,MAAA,SAAS,EAAE,KAAKd,KAAL,CAAWe,GAAX,IAAkB;AAAtJ,MADF,CADF,EAIE;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAK,MAAA,KAAK,EAAC;AAAX,OACGL,6BAA6B,GAAGjB,iBAAiB,CAAC,KAAKO,KAAN,CAApB,GAAmC,IADnE,CADF,EAIE;AAAK,MAAA,KAAK,EAAC;AAAX,OACGO,wBAAwB,GAAGjB,cAAc,CAAC,KAAKU,KAAN,CAAjB,GAAgC,IAD3D,EAEG,GAFH,EAGGK,sBAAsB,GAAGd,YAAY,CAAC,KAAKS,KAAN,CAAf,GAA8B,IAHvD,CAJF,EASE;AAAK,MAAA,KAAK,EAAC;AAAX,OACGQ,yBAAyB,GAAGhB,eAAe,CAAC,KAAKQ,KAAN,CAAlB,GAAiC,IAD7D,CATF,CAJF,CADF;AAoBD,G;;;EAvCwBX,S;;AA0C3B2B,MAAM,CAACC,OAAP,GAAiBnB,YAAjB","sourcesContent":["const { h, Component } = require('preact')\nconst SnapshotButton = require('./SnapshotButton')\nconst RecordButton = require('./RecordButton')\nconst RecordingLength = require('./RecordingLength')\nconst VideoSourceSelect = require('./VideoSourceSelect')\n\nfunction isModeAvailable (modes, mode) {\n  return modes.indexOf(mode) !== -1\n}\n\nclass CameraScreen extends Component {\n  componentDidMount () {\n    this.props.onFocus()\n  }\n\n  componentWillUnmount () {\n    this.props.onStop()\n  }\n\n  render () {\n    const shouldShowRecordButton = this.props.supportsRecording && (\n      isModeAvailable(this.props.modes, 'video-only') ||\n      isModeAvailable(this.props.modes, 'audio-only') ||\n      isModeAvailable(this.props.modes, 'video-audio')\n    )\n    const shouldShowSnapshotButton = isModeAvailable(this.props.modes, 'picture')\n    const shouldShowRecordingLength = this.props.supportsRecording && this.props.showRecordingLength\n    const shouldShowVideoSourceDropdown = this.props.showVideoSourceDropdown && this.props.videoSources && this.props.videoSources.length > 1\n\n    return (\n      <div class=\"uppy uppy-Webcam-container\">\n        <div class=\"uppy-Webcam-videoContainer\">\n          <video class={`uppy-Webcam-video  ${this.props.mirror ? 'uppy-Webcam-video--mirrored' : ''}`} autoplay muted playsinline srcObject={this.props.src || ''} />\n        </div>\n        <div class=\"uppy-Webcam-footer\">\n          <div class=\"uppy-Webcam-videoSourceContainer\">\n            {shouldShowVideoSourceDropdown ? VideoSourceSelect(this.props) : null}\n          </div>\n          <div class=\"uppy-Webcam-buttonContainer\">\n            {shouldShowSnapshotButton ? SnapshotButton(this.props) : null}\n            {' '}\n            {shouldShowRecordButton ? RecordButton(this.props) : null}\n          </div>\n          <div class=\"uppy-Webcam-recordingLength\">\n            {shouldShowRecordingLength ? RecordingLength(this.props) : null}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nmodule.exports = CameraScreen\n"]}